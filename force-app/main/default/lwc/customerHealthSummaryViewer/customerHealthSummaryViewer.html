<template>
    <lightning-card title="AI Customer Health Summary" icon-name="utility:magicwand">
        <!-- Main summary content -->
        <template if:true={loading}>
            <lightning-spinner alternative-text="Loading summary..." size="small"></lightning-spinner>
        </template>

        <template if:true={error}>
            <div class="slds-text-color_error slds-p-around_small">
                {error}
            </div>
        </template>

        <template if:true={summary}>
            <div class="slds-p-horizontal_small slds-p-vertical_small slds-text-body_regular" style="white-space: pre-wrap;">
                {summary}
            </div>
        </template>

        <!-- Refresh button at bottom -->
        <div class="slds-p-horizontal_small slds-p-bottom_medium slds-align_absolute-center">
            <lightning-button 
                label="Refresh Summary" 
                onclick={handleRefresh} 
                variant="brand-outline">
            </lightning-button>
        </div>
    </lightning-card>
</template>